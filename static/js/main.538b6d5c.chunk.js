(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchUser",(function(){return F}));var c={};n.r(c),n.d(c,"fetchTodos",(function(){return H})),n.d(c,"toggleStatusTodo",(function(){return w}));var a,o=n(8),s=n.n(o),u=n(4),i=n(6),l=n(15),d=n(14),O=n(2);!function(e){e.FETCH_TODOS="FETCH_TODOS",e.FETCH_TODOS_SUCCESS="FETCH_TODOS_SUCCESS",e.FETCH_TODOS_ERROR="FETCH_TODOS_ERROR",e.SELECT_USER="SELECT_USER",e.DESELECT_USER="DESELECT_USER",e.SET_STATUS_TODOS="SET_STATUS_TODOS",e.TOGGLE_STATUS_TODO="TOGGLE_STATUS_TODO",e.TOGGLE_STATUS_TODO_SUCCESS="TOGGLE_STATUS_TODO_SUCCESS",e.TOGGLE_STATUS_TODO_ERROR="TOGGLE_STATUS_TODO_ERROR"}(a||(a={}));var T,_={todos:[],loading:!1,error:null,selectedUserId:null,statusTodos:""};!function(e){e.FETCH_USER="FETCH_USER",e.FETCH_USER_SUCCESS="FETCH_USER_SUCCESS",e.FETCH_USER_ERROR="FETCH_USER_ERROR",e.RESET_USER="RESET_USER"}(T||(T={}));var S,j={user:null,loading:!1,error:null},p=Object(i.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.FETCH_USER:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case T.FETCH_USER_SUCCESS:return Object(O.a)(Object(O.a)({},e),{},{user:t.payload,loading:!1});case T.FETCH_USER_ERROR:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});case T.RESET_USER:return Object(O.a)(Object(O.a)({},e),{},{user:null});default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.FETCH_TODOS:case a.TOGGLE_STATUS_TODO:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case a.FETCH_TODOS_SUCCESS:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,todos:t.payload});case a.FETCH_TODOS_ERROR:case a.TOGGLE_STATUS_TODO_ERROR:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});case a.SELECT_USER:return Object(O.a)(Object(O.a)({},e),{},{selectedUserId:t.payload});case a.DESELECT_USER:return Object(O.a)(Object(O.a)({},e),{},{selectedUserId:null});case a.SET_STATUS_TODOS:return Object(O.a)(Object(O.a)({},e),{},{statusTodos:t.payload});case a.TOGGLE_STATUS_TODO_SUCCESS:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,todos:e.todos.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}}}),E=Object(i.createStore)(p,Object(d.composeWithDevTools)(Object(i.applyMiddleware)(l.a))),b=(n(25),n(26),n(16)),h=n(17),f=n(0),C=n(12),v=n.n(C),R=u.c,U=n(5),x=n(3),m=n.n(x),y="https://mate.academy/students-api/",g=function(){var e=Object(U.a)(m.a.mark((function e(){var t,n,r,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n="".concat(y,"todos"),""!==t&&(n+="?completed=".concat(t)),e.next=5,fetch(n);case 5:return r=e.sent,e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(U.a)(m.a.mark((function e(){var t,n,r,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,n="".concat(y,"users/"),0!==t&&(n+="".concat(t)),e.next=5,fetch(n);case 5:if(404!==(r=e.sent).status){e.next=8;break}throw new Error;case 8:return e.abrupt("return",r.json());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(U.a)(m.a.mark((function e(t,n){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(y,"todos/").concat(t),e.next=3,fetch(r,{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({completed:!n})});case 3:if(404!==(c=e.sent).status){e.next=6;break}throw new Error;case 6:return e.abrupt("return",c.json());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){return function(){var t=Object(U.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:T.FETCH_USER}),t.next=4,L(e);case 4:r=t.sent,n({type:T.FETCH_USER_SUCCESS,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:T.FETCH_USER_ERROR,payload:"Error fetching user"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(U.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:a.FETCH_TODOS}),t.next=4,g(e);case 4:r=t.sent,n({type:a.FETCH_TODOS_SUCCESS,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:a.FETCH_TODOS_ERROR,payload:"Error fetching todos"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(U.a)(m.a.mark((function n(r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:a.TOGGLE_STATUS_TODO}),n.next=4,D(e,t);case 4:c=n.sent,r({type:a.TOGGLE_STATUS_TODO_SUCCESS,payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r({type:a.TOGGLE_STATUS_TODO_ERROR,payload:"Error toggling todo"});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},A=Object(O.a)(Object(O.a)({},c),r),G=function(){var e=Object(u.b)();return Object(i.bindActionCreators)(A,e)},k=(n(28),n(1));!function(e){e.true="true",e.false="false",e.default=""}(S||(S={}));var N=function(){var e=Object(u.b)(),t=G(),n=t.fetchTodos,r=t.toggleStatusTodo,c=R((function(e){return e.todos})),o=c.todos,s=c.error,i=c.loading,l=c.selectedUserId,d=c.statusTodos,O=Object(f.useState)(""),T=Object(h.a)(O,2),_=T[0],j=T[1];Object(f.useEffect)((function(){n(d)}),[d]);var p,E=function(e){for(var t=Object(b.a)(e),n=t.length-1;n>0;n-=1){var r=Math.floor(Math.random()*(n+1)),c=[t[r],t[n]];t[n]=c[0],t[r]=c[1]}return t},C=(p=_,o.filter((function(e){var t=p.toLowerCase();return e.title.toLowerCase().includes(t)})));return i?Object(k.jsx)("h1",{children:"Loading..."}):s?Object(k.jsx)("h1",{children:s}):Object(k.jsxs)("div",{className:"TodoList",children:[Object(k.jsx)("h2",{children:"Todos:"}),Object(k.jsxs)("div",{className:"TodoList__interactive",children:[Object(k.jsxs)("label",{htmlFor:"search-query",className:"label",children:["Search todo\xa0",Object(k.jsx)("input",{className:"TodoList__interactive-input",type:"text",id:"search-query",placeholder:"Type search todo",value:_,onChange:function(e){return j(e.target.value)}})]}),Object(k.jsxs)("label",{htmlFor:"select-completed",children:["Toggle completion status\xa0",Object(k.jsxs)("select",{className:"TodoList__interactive-input",id:"select-completed",value:d,onChange:function(t){return e({type:a.SET_STATUS_TODOS,payload:t.target.value})},children:[Object(k.jsx)("option",{value:S.default,children:"All"}),Object(k.jsx)("option",{value:S.true,children:"Completed"}),Object(k.jsx)("option",{value:S.false,children:"Active"})]})]}),Object(k.jsxs)("span",{children:["Random todos\xa0",Object(k.jsx)("button",{className:"button TodoList__user-button TodoList__user-button--selected",type:"button",onClick:function(){return e({type:a.FETCH_TODOS_SUCCESS,payload:E(o)})},children:"Randomize"})]})]}),Object(k.jsx)("div",{className:"TodoList__list-container",children:Object(k.jsx)("ul",{className:"TodoList__list",children:C.map((function(t){return Object(k.jsxs)("li",{className:v()("TodoList__item",{"TodoList__item--checked":t.completed},{"TodoList__item--unchecked":!t.completed}),children:[Object(k.jsxs)("label",{htmlFor:"checkbox",children:[Object(k.jsx)("input",{id:"checkbox",checked:t.completed,type:"checkbox",readOnly:!0,onChange:function(){return r(t.id,t.completed)}}),Object(k.jsx)("p",{children:t.title})]}),Object(k.jsxs)("button",{onClick:function(){t.userId!==l&&e({type:a.SELECT_USER,payload:t.userId})},className:v()("button TodoList__user-button",{"TodoList__user-button--selected":t.userId===l}),type:"button",children:["User\xa0#",t.userId]})]},t.id)}))})})]})},I=(n(30),function(){var e=R((function(e){return e.todos})).selectedUserId,t=R((function(e){return e.user})),n=t.user,r=t.loading,c=t.error,o=Object(u.b)(),s=G().fetchUser;Object(f.useEffect)((function(){e&&s(e)}),[e]);return r?Object(k.jsx)("h1",{children:"Loading..."}):c?Object(k.jsx)("h1",{children:c}):null===n?Object(k.jsx)("span",{children:"No user selected"}):Object(k.jsxs)("div",{className:"CurrentUser",children:[Object(k.jsx)("button",{onClick:function(){o({type:a.DESELECT_USER}),o({type:T.RESET_USER})},className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",children:"Clear"}),Object(k.jsx)("h2",{className:"CurrentUser__title",children:Object(k.jsx)("span",{children:"Selected user: ".concat(n.id)})}),Object(k.jsx)("h3",{className:"CurrentUser__name",children:n.name}),Object(k.jsx)("p",{className:"CurrentUser__email",children:n.website}),Object(k.jsx)("p",{className:"CurrentUser__phone",children:n.phone})]})}),J=function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("div",{className:"App__sidebar",children:Object(k.jsx)(N,{})}),Object(k.jsx)("div",{className:"App__content",children:Object(k.jsx)("div",{className:"App__content-container",children:Object(k.jsx)(I,{})})})]})},M=function(){return Object(k.jsx)(u.a,{store:E,children:Object(k.jsx)(J,{})})};s.a.render(Object(k.jsx)(M,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.538b6d5c.chunk.js.map